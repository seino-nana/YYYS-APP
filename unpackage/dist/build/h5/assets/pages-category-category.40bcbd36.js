import{y as a,p as e,B as l,o as s,c as t,w as u,l as i,g as o,b as r,j as n,k as p,F as v,e as c,z as d,S as m,r as y,n as _,t as f,s as x}from"./index-c10f9bc5.js";import{_ as g}from"./u-image.0192172e.js";import{a as h,r as k}from"./uni-app.es.7b888dc1.js";import{a as b}from"./data.700934dc.js";import{_ as j}from"./_plugin-vue_export-helper.1b428a4d.js";import"./member.156f20f2.js";const w=j({__name:"category",setup(j){const{safeAreaInsets:w}=a();h((()=>{P()}));const C=e(0),I=e([]),z=e([["电影","连续剧","动漫","综艺"],["全部","动作","科幻","喜剧","爱情","恐怖","战争","犯罪","纪录","剧情","动画"],["全部","大陆","香港","台湾","日本","韩国","美国","英国"],["全部","2023","2022","2021","2020","2019","2018","2017","2016","2015","2014","2013","2012","2011","2010"],["最新","最热"]]),L=e([{type:"电影",index:0},{type:"",index:0},{type:"",index:0},{type:"",index:0},{type:"",index:0}]),P=async()=>{await C.value++;const a=await b({typeDesc:L.value[0].type,cat:L.value[1].type,area:L.value[2].type,year:L.value[3].type,num:18,page:C.value});0!==a.movieList.length?I.value.push(...a.movieList):l({title:"已经没有了",duration:2e3})},S=()=>{P()};return(a,e)=>{const l=i,h=m,b=k(y("u-image"),g);return s(),t(l,{class:"category"},{default:u((()=>{var a;return[o(l,{class:"navbar",style:c({paddingTop:(null==(a=d(w))?void 0:a.top)+"px"})},{default:u((()=>[o(l,{class:"title"},{default:u((()=>[r("分类")])),_:1}),(s(!0),n(v,null,p(z.value,((a,e)=>(s(),t(h,{"scroll-x":"true",class:"hd-list"},{default:u((()=>[(s(!0),n(v,null,p(z.value[e],((a,i)=>(s(),t(l,{key:i,class:_(["hd-list-item",L.value[e].index==i?"active":""]),onClick:l=>((a,e,l)=>{L.value[a].type="全部"==l?"":l,L.value[a].index=e,4==a&&("最新"==l?L.value[4].type=0:"最热"==l&&(L.value[4].type=1)),0==a&&("电影"==l?z.value[1]=["全部","动作","科幻","喜剧","爱情","恐怖","战争","犯罪","纪录","剧情","动画"]:"连续剧"==l?z.value[1]=["全部","国产剧","香港剧","日本剧","韩国剧","欧美剧","泰国剧"]:"动漫"==l?z.value[1]=["全部","国产动漫","日韩动漫","欧美动漫"]:"综艺"==l&&(z.value[1]=["全部","大陆综艺","港台综艺","日韩综艺","欧美综艺"]),L.value[1].type="",L.value[1].index=0),I.value=[],C.value=0,P()})(e,i,a)},{default:u((()=>[r(f(a),1)])),_:2},1032,["class","onClick"])))),128))])),_:2},1024)))),256))])),_:1},8,["style"]),o(h,{class:"content-scroll-view","scroll-y":"","enable-back-to-top":"",onScrolltolower:S},{default:u((()=>[o(l,{class:"movie-list"},{default:u((()=>[(s(!0),n(v,null,p(I.value,(a=>(s(),t(l,{class:"movie-list-item",onClick:e=>{return l=a.movieId,void x({url:"/pages/playPage/playPage?id="+l});var l}},{default:u((()=>[o(b,{width:"230rpx",height:"320rpx",radius:"20rpx",src:a.image_thumb,"lazy-load":!0},null,8,["src"]),o(l,{class:"name"},{default:u((()=>[r(f(a.nm),1)])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:1})])),_:1})]})),_:1})}}},[["__scopeId","data-v-a133b1a4"]]);export{w as default};
