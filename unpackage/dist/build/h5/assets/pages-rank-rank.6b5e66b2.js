import{y as a,p as s,o as e,c as t,w as l,l as i,g as o,b as r,j as n,k as u,F as c,e as m,z as p,r as v,S as d,n as f,t as _,s as g}from"./index-c10f9bc5.js";import{_ as y}from"./u-image.0192172e.js";import{o as w,r as b}from"./uni-app.es.7b888dc1.js";import{a as k}from"./data.700934dc.js";import{_ as h}from"./_plugin-vue_export-helper.1b428a4d.js";import"./member.156f20f2.js";const j=h({__name:"rank",setup(h){const{safeAreaInsets:j}=a(),L=s([{title:"电影",movieList:[],page:0},{title:"连续剧",movieList:[],page:0},{title:"综艺",movieList:[],page:0},{title:"动漫",movieList:[],page:0}]),x=s(0);w((async()=>{await C(0),await C(1),await C(2),await C(3)}));const C=async a=>{L.value[a].page++;const s=await k({typeDesc:L.value[a].title,page:L.value[a].page,num:10,sort:2});L.value[a].movieList.push(...s.movieList)},I=async()=>{await C(x.value)};return(a,s)=>{const w=i,k=b(v("u-image"),y),h=d;return e(),t(w,{class:"rank"},{default:l((()=>{var a;return[o(w,{class:"navbar",style:m({paddingTop:(null==(a=p(j))?void 0:a.top)+"px"})},{default:l((()=>[o(w,{class:"title"},{default:l((()=>[r("高分电影")])),_:1}),o(w,{class:"tab-control"},{default:l((()=>[(e(!0),n(c,null,u(L.value,((a,s)=>(e(),t(w,{class:f(["tab-control-item",x.value==s?"active":""]),onClick:a=>(a=>{x.value=a})(s)},{default:l((()=>[r(_(a.title),1)])),_:2},1032,["class","onClick"])))),256))])),_:1})])),_:1},8,["style"]),o(h,{"scroll-y":"",class:"scroll-view",onScrolltolower:I},{default:l((()=>[o(w,{class:"movie-list"},{default:l((()=>[(e(!0),n(c,null,u(L.value[x.value].movieList,(a=>(e(),t(w,{class:"movie-list-item",onClick:s=>{return e=a.movieId,void g({url:"/pages/playPage/playPage?id="+e});var e}},{default:l((()=>[o(k,{width:"150rpx",height:"220rpx",src:a.image_thumb,"lazy-load":!0},null,8,["src"]),o(w,{class:"movie-list-item-info"},{default:l((()=>[o(w,{class:"nm info-item"},{default:l((()=>[r(_(a.nm),1)])),_:2},1024),o(w,{class:"score info-item"},{default:l((()=>[r(_(a.score),1)])),_:2},1024),o(w,{class:"dir info-item"},{default:l((()=>[r("导演:"+_(a.dir),1)])),_:2},1024),o(w,{class:"intro info-item"},{default:l((()=>[r(_(a.intro),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),256))])),_:1})])),_:1})]})),_:1})}}},[["__scopeId","data-v-bf0b0ba8"]]);export{j as default};
