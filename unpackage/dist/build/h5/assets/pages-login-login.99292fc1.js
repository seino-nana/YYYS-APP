import{y as s,p as a,o as e,c as l,w as t,e as o,z as r,l as u,g as p,b as n,B as d,C as i,u as c,L as m,I as f,i as _}from"./index-c10f9bc5.js";import{_ as v}from"./logo.91813b25.js";import{l as g,b as w}from"./data.700934dc.js";import{u as x}from"./member.156f20f2.js";import{_ as h}from"./_plugin-vue_export-helper.1b428a4d.js";const y=h({__name:"login",setup(h){const{safeAreaInsets:y}=s(),j=a({username:"",password:""}),V=async()=>{const s=await g(j.value);b(s)},b=s=>{var a;const e=x();e.setProfile(s);(null==(a=e.profile)?void 0:a.token)?(w().then((s=>{})),d({icon:"success",title:"登录成功"}),setTimeout((()=>{i({url:"/pages/user/user"})}),500)):(j.value.password="",d({icon:"error",title:"账号或密码错误"}))};return(s,a)=>{var d;const i=c,g=u,w=m,x=f,h=_;return e(),l(g,{class:"viewport",style:o({paddingTop:(null==(d=r(y))?void 0:d.top)+"px"})},{default:t((()=>[p(g,{class:"logo"},{default:t((()=>[p(i,{src:v,style:{height:"100rpx",width:"100rpx"}})])),_:1}),p(g,{class:"login"},{default:t((()=>[p(w,{class:"input",type:"text",placeholder:"请输入用户名/手机号码",modelValue:j.value.username,"onUpdate:modelValue":a[0]||(a[0]=s=>j.value.username=s)},null,8,["modelValue"]),p(w,{class:"input",type:"text",password:"",placeholder:"请输入密码",modelValue:j.value.password,"onUpdate:modelValue":a[1]||(a[1]=s=>j.value.password=s)},null,8,["modelValue"]),p(x,{class:"button phone",onClick:V},{default:t((()=>[n("登录")])),_:1}),p(g,{class:"extra"},{default:t((()=>[p(g,{class:"caption"},{default:t((()=>[p(h,null,{default:t((()=>[n("其他登录方式")])),_:1})])),_:1}),p(g,{class:"options"})])),_:1}),p(g,{class:"tips"},{default:t((()=>[n("登录/注册即视为你同意《服务条款》和《莹赢影视隐私协议》")])),_:1})])),_:1})])),_:1},8,["style"])}}},[["__scopeId","data-v-e2afb490"]]);export{y as default};
