import{p as e,o as a,c as n,w as l,g as t,j as u,F as o,k as s,n as i,f as c,b as m,t as g,B as v,u as p,l as r,i as d}from"./index-c10f9bc5.js";import{_ as h}from"./_plugin-vue_export-helper.1b428a4d.js";const _=h({__name:"choujiang",setup(h){const _=e(""),f=e(0),x=e(0),b=e(0),j=e(1e3),y=e(!0),k=e(!0),w=[{image:"/components/choujiang/static/fhb.png",name:"10积分",parcentage:50,index_num:0},{image:"/components/choujiang/static/fhb.png",name:"20积分",parcentage:100,index_num:1},{image:"/components/choujiang/static/smdj.png",name:"神秘大奖",parcentage:20,index_num:2},{image:"/components/choujiang/static/fhb.png",name:"10积分",parcentage:50,index_num:3},{image:"/components/choujiang/static/begin.png",name:"剩余次数:0",percentage:0,index_num:4},{image:"/components/choujiang/static/fhb.png",name:"50积分",parcentage:30,index_num:5},{image:"/components/choujiang/static/fhb.png",name:"20积分",parcentage:100,index_num:6},{image:"/components/choujiang/static/dehb.png",name:"大额红包",parcentage:0,index_num:7},{image:"/components/choujiang/static/fhb.png",name:"10积分",parcentage:50,index_num:8}],M=()=>{let a=Math.round(99*Math.random()+1),n=e([]);console.log("sj: ",a);for(let e=0;e<w.length;e++)w[e].parcentage>=a&&n.value.push(w[e]);n.value.length>1?f.value=n.value[Math.round(Math.random()*n.value.length)].index_num:f.value=n.value[0].index_num,console.log(f.value),console.log("结束计算")},F=()=>{let e=f.value;(!_.value||_.value<9)&&(3==_.value||""===_.value?_.value=0:2==_.value?_.value=5:5==_.value?_.value=8:8==_.value?_.value=7:7==_.value?_.value=6:6==_.value?_.value=3:_.value++,x.value++,4==x.value&&(x.value=0,j.value=50,b.value++),8==b.value&&(b.value=0,j.value=500,x.value=5),x.value>5&&_.value==e&&(k.value=!0,y.value=!1,console.log("获得"+w[e].name),v({title:"恭喜获得："+w[e].name,icon:"none",position:"bottom"})),y.value&&setTimeout((()=>{F()}),j.value))};return(e,h)=>{const f=p,C=r,z=d;return a(),n(C,{class:"lottery"},{default:l((()=>[t(C,{class:"bgc"},{default:l((()=>[t(f,{src:"/assets/luck-bb6ec6d9.png",mode:"aspectFill",style:{height:"1338rpx",width:"750rpx"}})])),_:1}),t(C,{class:"luck-list"},{default:l((()=>[(a(),u(o,null,s(w,((e,u)=>t(C,{key:u},{default:l((()=>[t(C,{class:i(["cell-item",4==u||u===_.value?"y-b":"w-b"]),onClick:e=>(e=>{if(4==e){if(!k.value)return void v({title:"请勿频繁点击",icon:"none",position:"bottom"});k.value=!1,x.value=0,b.value=0,j.value=200,y.value=!0,console.log("开始计算"),M(),console.log("开始抽奖"),F()}})(u)},{default:l((()=>[t(C,{class:i(["cell-content",4==u||u===_.value?"y":"w"])},{default:l((()=>[e.image?(a(),n(f,{key:0,src:e.image,mode:"widthFix",style:{width:"60rpx",height:"60rpx"}},null,8,["src"])):c("",!0),t(C,{style:{"margin-top":"5rpx"}},{default:l((()=>[t(z,{style:{"font-size":"21rpx","font-weight":"bold"}},{default:l((()=>[m(g(e.name),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["class"])])),_:2},1032,["class","onClick"])])),_:2},1024))),64))])),_:1})])),_:1})}}},[["__scopeId","data-v-5fab0b2f"]]),f={__name:"lottery",setup:e=>(e,l)=>(a(),n(_))};export{f as default};
