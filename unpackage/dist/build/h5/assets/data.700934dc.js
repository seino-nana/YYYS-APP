import{T as e,s as a,B as t}from"./index-c10f9bc5.js";import{u as o}from"./member.156f20f2.js";const s=(s={})=>new Promise(((d,r)=>{var l;const i=null==(l=o().profile)?void 0:l.token;e({url:"https://www.3154movie.cn"+s.url||"",method:s.method||"GET",data:s.data||{},header:{Authorization:`Bearer ${i}`},success(e){if(e.statusCode>=200&&e.statusCode<300)d(e.data);else if(401===e.statusCode){o().clearProfile(),a({url:"/pages/login/login"}),r(e)}else t({icon:"none",title:e.data.msg||"请求错误"}),r(e)},fail(e){t({icon:"none",title:"网络错误，换个网络试试"}),r(e)}})})),d=e=>s({methods:"GET",url:"/home/data",data:{typeDesc:e}}),r=e=>s({method:"GET",url:"/movies/detail",data:{movieId:e}}),l=e=>s({method:"GET",url:"/movies/category",data:e}),i=e=>s({method:"GET",url:"/movies/search",data:e}),u=e=>s({method:"POST",url:"/movies/addPlayCount",data:{movieId:e}}),m=e=>s({method:"POST",url:"/login",data:e}),h=()=>s({method:"GET",url:"/user/info"}),n=e=>s({method:"POST",url:"/user/info/update",data:e}),c=()=>s({method:"GET",url:"/user/history"}),T=e=>s({method:"POST",url:"/user/history/add",data:e}),f=e=>s({method:"POST",url:"/user/history/delete",data:{ids:e}}),v=()=>s({method:"GET",url:"/user/collect"}),P=e=>s({method:"POST",url:"/user/collect/add",data:{movieId:e}}),p=e=>s({method:"POST",url:"/user/collect/delete",data:{ids:e}});export{l as a,h as b,i as c,u as d,r as e,v as f,d as g,c as h,T as i,p as j,P as k,m as l,f as m,n as u};
